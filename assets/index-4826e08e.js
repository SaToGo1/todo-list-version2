var jt=Object.defineProperty;var vt=(s,t,e)=>t in s?jt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var r=(s,t,e)=>(vt(s,typeof t!="symbol"?t+"":t,e),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function e(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(n){if(n.ep)return;n.ep=!0;const i=e(n);fetch(n.href,i)}})();function _t(){return`
    <header class="header">
      <h1 class="header__h1">To-Do List V2</h1>
    </header>
  `}const Tt="/todo-list-version2/assets/plusBlue-74e97109.svg",st="/todo-list-version2/assets/circle-33d9fd73.svg",ot="/todo-list-version2/assets/circle-check-4cd9726b.svg",J="main";function St(){return`
    <main class="${J}" id="${J}">
      ${nt()}
      <h3>TasksProjects</h3>
      <h3>Completed Tasks</h3>
    </main>
  `}const _="main__addTaskDiv",V="main__addTaskDiv-focus",$="main__addTaskButton",T="main__addTaskInput",y="main__addTaskIcon";function nt(){return`
    <div class=${_} id=${_}>
      <button class=${$} id="${$}">
        <img class="${y}" id="${y}" 
          src="${Tt}"
        >
      </button>
      <input class="${T}" id="${T}" 
        type="text"
      >
    </div>
  `}const Ct="main__taskPage",X="main__taskList",it="main__taskListCompleted",rt="main__taskListNotCompleted";function Pt({div:s,completedTasks:t,notCompletedTasks:e,name:o,colorCompletedTasks:n,colorNotCompletedTasks:i}){const a=`
  <div class=${Ct}>
    <h2>${o}</h2>
    ${nt()}
    <h3>Tasks</h3>
    <div class="${X}" id="${rt}">
      ${e.map((c,h)=>{const p=i[h];return N({task:c,completed:!1,color:p})}).join("")}
    </div>
    <h3>Completed</h3>
    <div class="${X}" id="${it}">
      ${t.map((c,h)=>{const p=n[h];return N({task:c,completed:!0,color:p})}).join("")}
    </div>
  </div>`;s.innerHTML=a}const E="main__task",at="main__taskIcon",It="main__taskText",$t="main__taskText-Completed",ct="main__taskDate",lt="main__taskDelete";function N({task:s,completed:t,color:e}){let o,n,i="";if(t?(o=ot,n=$t):(o=st,n=It),e){let a;e==="#ffffff"?a=e:a=e+"33",i=`style="background-color: ${a}"`}return`
  <div class="${E}" ${i} data-task-id="${s.id}">
    <img class="${at}" src="${o}" alt="icon">
    <p class="${n}">${s.title}</p>
    <input type="date" class="${ct}" value="${s.date}">
    <button class="${lt}">X</button>
  </div>
  `}function yt({task:s,color:t}){let e,o;s.completed?(e=document.querySelector(`#${it}`),o=!0):(e=document.querySelector(`#${rt}`),o=!1);const n=N({task:s,completed:o,color:t});e.insertAdjacentHTML("beforeend",n)}const wt="taskDetails__div",Mt="taskDetails__divTitle",Lt="taskDetails__icon",Ot="taskDetails__title",M="taskDetails__projects",L="taskDetails__date",bt="taskDetails__divDescription",O="taskDetails__description";function Bt({task:s,project:t,projectArray:e}){let o;return s.completed?o=ot:o=st,`
    <div class="${wt}" data-task-id="${s.id}">
      <div class="${Mt}">
        <img class="${Lt}" src="${o}" alt="icon">
        <div class="${Ot}" contenteditable="true">${s.title}</div>
      </div>
      <hr class="taskDetail__hr">
      <label for="${M}">Select Project:</label>
      <select id="${M}" class="${M}">
        ${e.map(n=>`<option data-project-selection-id=${n.id}>${n.name}</option>`).join("")}
      </select>
      <label for="${L}">Due Date:</label>
      <input id="${L}" type="date" class="${L}" value="${s.date}">

      <label for="${O}">Task Description:</label>
      <div class="${bt}">
        <div id="${O}" class="${O}" contenteditable="true">${s.description}</div>
      </div>
    </div>

  `}function Et({div:s,task:t,project:e,projectArray:o}){const n=Bt({task:t,project:e,projectArray:o});s.insertAdjacentHTML("beforeend",n)}const Nt="/todo-list-version2/assets/plus-333b0318.svg",Ut="/todo-list-version2/assets/tag-2f76385c.svg",Ht="/todo-list-version2/assets/home-5de888a8.png",Rt="/todo-list-version2/assets/today-248fbdf1.svg",xt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABgAAAAYADwa0LPAAAAd0lEQVRIx2NgGEDwH4opUsdEa1eiW+DNwMDwBM1F/wlgZHWPGRgYPPFZ+JgIAwnhR8gGMmIJT2oAuLl0jwOqAxZCXiQRYATxgPkAp4tI9fGA+4DcuKCfD0YtGIEWPIHS5BbVDAyQIh8n8GSgrE54xECgwhkFGAAAcH5FLau0834AAAAldEVYdGRhdGU6Y3JlYXRlADIwMjItMTItMDZUMTQ6NTY6NTUrMDA6MDBbqY0HAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIyLTEyLTA2VDE0OjU2OjU1KzAwOjAwKvQ1uwAAAABJRU5ErkJggg==",Ft="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABgAAAAYADwa0LPAAAAgUlEQVRIx2NgGEDwH4opUsdEa1eiW+DNwMDwBM1F/wlgZHWPGRgYPPFZ+JgIAwnhR8gGMmIJT2oAuLl0jwOqAxZCXiQRYATxgAcRtqSIj0+yBRQDFgLyjCTy6e+D0TgY/HFAdQueQGlyi2oGBkiRjxN4MlBWJzxiYGDwoHWoDDMAAFSjUCXUEaotAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIyLTEyLTA2VDE0OjU3OjQzKzAwOjAwGxHTnQAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMi0xMi0wNlQxNDo1Nzo0MyswMDowMGpMayEAAAAASUVORK5CYII=",u="Home",A="Today",f="Tomorrow",k="Week",g="Month",dt="nav__sectionsDiv",qt="nav__projectsDiv",Wt="nav",Gt="nav__hr",D="nav__container",Qt="nav__icon",w="nav__button";function Yt(){const s=Q();return`
    <nav class="${Wt}">
      <div class="${dt}">
        <h2>Sections</h2>
      </div>
      <hr class="${Gt}">
      <div class="${qt}">
        <h2>Projects</h2>
        ${s}
      </div>
    </nav>
  `}function zt({div:s,sectionNames:t}){let e=`
    <div class="${dt}">
  `;t.forEach(o=>{const n=`navSection__${o}-click`,i=Jt({name:o});e+=`
    <div class="${D} ${n}">
      <img src="${i}" class="${Qt} ${n}" alt="${o} button">
      <button class="${w} ${n}">${o}</button>
    </div>`}),e+="</div>",s.innerHTML=e}function Jt({name:s}){return s===A?Rt:s===f?Ut:s===k?xt:s===g?Ft:Ht}const U="nav__addProjectButton",H="nav__addProjectIcon",Q=()=>`
  <button class="${U}" id="${U}">
    <img src="${Nt}" alt="add Project" class="${H}" id="${H}">
  </button>
  `,ut="nav__Confirmation",Vt="navConfirmation__input",R="navConfirmation__accept",x="navConfirmation__cancel";function Xt({div:s}){const t=`
  <div class="${ut}">
    <label>Project Name:</label>
    <input type="text" class="${Vt}" maxlength="40" minlength="1">
    <button class="${R} ${w}" id="${R}">Accept</button>
    <button class="${x} ${w}" id="${x}">Cancel</button
  </div>`,e=document.querySelector(".nav__addProjectButton");e?(s.removeChild(e),s.insertAdjacentHTML("beforeend",t)):console.error("Add Project button not found, sidebar.js")}function Zt({div:s}){const t=Q(),e=document.querySelector(".nav__Confirmation");e?(s.removeChild(e),s.insertAdjacentHTML("beforeend",t)):console.error("Confirmation Div not found, sidebar.js")}const ht="nav__ProjectDeleteButton",F="nav_projectColor";function pt({id:s,name:t,color:e="#000000"}){return`
  <div class="${D}" data-project-id="${s}">
    <input type="color" class="${F}" value="${e}">
    <button class="${w}">${t}</button>
    <button class="${ht}">X</button>
  </div>`}function Kt({div:s,id:t,name:e,color:o="#000000"}){const n=pt({id:t,name:e,color:o});s.insertAdjacentHTML("beforeend",n)}function te({div:s,projects:t}){const e=Q();let o=`
    <h2>Projects</h2>
  `;t.forEach(n=>{const i=pt({id:n.id,name:n.name,color:n.color});o+=`${i}`}),o+=`
    ${e}
  `,s.innerHTML=o}const Z="nav__container-active";function ee({div:s}){document.querySelectorAll(`.${D}`).forEach(o=>o.classList.remove(Z));let e=5;for(;!s.classList.contains(D);)if(s=s.parentNode,e--,e===0)return console.error("Infinite bucle on activePageStyle"),0;s.classList.add(Z)}class se{constructor(){r(this,"renderApp",()=>{const t=_t(),e=Yt(),o=St(),n=`
    ${t}
    ${e}
    ${o}
    `;this.app.innerHTML=n});r(this,"activePageStyle",({div:t})=>{ee({div:t})});r(this,"renderSections",({div:t,sectionNames:e})=>{zt({div:t,sectionNames:e})});r(this,"renderConfirmation",({div:t})=>{Xt({div:t})});r(this,"renderAddProjectButton",({div:t})=>{Zt({div:t})});r(this,"renderProject",({div:t,id:e,name:o})=>{Kt({div:t,id:e,name:o})});r(this,"renderAllProjects",({div:t,projects:e})=>{te({div:t,projects:e})});r(this,"renderPage",({div:t,completedTasks:e,notCompletedTasks:o,name:n,colorCompletedTasks:i,colorNotCompletedTasks:a})=>{Pt({div:t,completedTasks:e,notCompletedTasks:o,name:n,colorCompletedTasks:i,colorNotCompletedTasks:a})});r(this,"renderTask",({task:t,color:e})=>{yt({task:t,color:e})});r(this,"renderTaskDetail",({div:t,task:e,project:o,projectArray:n})=>{Et({div:t,task:e,project:o,projectArray:n})});this.app=document.getElementById("app"),this.renderApp(),this.nav=document.querySelector(".nav")}}function q(){return new Date().toISOString().split("T")[0]}function mt(){const s=new Date;return s.setDate(s.getDate()+1),s.toISOString().split("T")[0]}function Y(){const s=new Date;return s.setDate(s.getDate()+(6-s.getDay())+1),s.toISOString().split("T")[0]}function oe(){const s=new Date;return s.setDate(s.getDate()-s.getDay()),s.toISOString().split("T")[0]}function At(){const s=new Date,t=new Date(s.getFullYear(),s.getMonth()+1,1);return t.setDate(t.getDate()-1),t.setHours(23,59,59,999),t.toISOString().split("T")[0]}function ne(){const s=new Date;return s.setDate(1),s.toISOString().split("T")[0]}function ft({tasks:s}){return s.filter(t=>t.completed===!0)}function kt({tasks:s}){return s.filter(t=>t.completed===!1)}function K({tasks:s,projectID:t}){return s.filter(e=>e.projectID===t)}function ie({tasks:s,section:t}){switch(t){case u:return s;case A:return re({tasks:s});case f:return ae({tasks:s});case k:return ce({tasks:s});case g:return le({tasks:s});default:console.error("default case for filter sections, should not get here")}return s}function re({tasks:s}){const t=q();return s.filter(e=>e.date===t)}function ae({tasks:s}){const t=mt();return s.filter(e=>e.date===t)}function ce({tasks:s}){const t=oe(),e=Y();return s.filter(o=>o.date>=t&&o.date<=e)}function le({tasks:s}){const t=ne(),e=At();return s.filter(o=>o.date>=t&&o.date<=e)}function tt({tasks:s,projects:t}){return s.map(e=>{if(e.projectID===null||e.projectID==="")return null;const o=t.find(n=>n.id===e.projectID);return o!=null&&o.color?o.color:null})}class de{constructor({view:t,sectionModel:e,taskModel:o,projectModel:n,setCurrentSection:i,getCurrentSection:a}){r(this,"initializeControllerSection",()=>{this._sectionLoad(u),this.setCurrentSection({section:u});const t=this.sectionModel.getSectionNames();this.view.renderSections({div:this.sectionDiv,sectionNames:t}),this.sectionDiv.addEventListener("click",this._SectionDivHandler)});r(this,"_SectionDivHandler",t=>{t.target.classList.contains(`navSection__${u}-click`)?(this._sectionLoad(u),this.view.activePageStyle({div:t.target})):t.target.classList.contains(`navSection__${A}-click`)?(this._sectionLoad(A),this.view.activePageStyle({div:t.target})):t.target.classList.contains(`navSection__${f}-click`)?(this._sectionLoad(f),this.view.activePageStyle({div:t.target})):t.target.classList.contains(`navSection__${k}-click`)?(this._sectionLoad(k),this.view.activePageStyle({div:t.target})):t.target.classList.contains(`navSection__${g}-click`)&&(this._sectionLoad(g),this.view.activePageStyle({div:t.target}))});r(this,"_sectionLoad",t=>{let e=this.taskModel.getAllTasks();e=ie({tasks:e,section:t});const o=ft({tasks:e}),n=kt({tasks:e}),i=this.projectModel.getAllProjects(),a=tt({tasks:o,projects:i}),c=tt({tasks:n,projects:i});this.view.renderPage({div:this.mainDiv,completedTasks:o,notCompletedTasks:n,name:t,colorCompletedTasks:a,colorNotCompletedTasks:c}),this.setCurrentSection({section:t})});r(this,"reloadSection",({loadHome:t=!1})=>{const e=this.getCurrentSection();e!==""&&this._sectionLoad(e),t===!0&&this._sectionLoad(u)});this.view=t,this.sectionModel=e,this.taskModel=o,this.projectModel=n,this.setCurrentSection=i,this.getCurrentSection=a,this.sectionDiv=document.querySelector(".nav__sectionsDiv"),this.mainDiv=document.querySelector(".main")}}function ue(s,t){let e;return function(...o){clearTimeout(e),e=setTimeout(()=>{s(...o)},t)}}class he{constructor({view:t,projectModel:e,taskModel:o,setCurrentProject:n,getCurrentProject:i,reloadSection:a}){r(this,"initializeControllerProjects",()=>{this.projectsDiv.addEventListener("click",this._projectDivHandler),this.projectsDiv.addEventListener("input",this._colorInput);const t=this.projectModel.getAllProjects();this.view.renderAllProjects({div:this.projectsDiv,projects:t})});r(this,"_projectDivHandler",t=>{if(this._clickOnAddProjectButton(t))return 0;if(this._clickOnConfirmationDiv(t))return 0;if(this._deleteProjectClick(t))return 0;if(this._colorInputClick(t))return 0;this._clickOnProject(t)});r(this,"_clickOnAddProjectButton",t=>t.target.id===U||t.target.id===H?(this.view.renderConfirmation({div:this.projectsDiv}),!0):!1);r(this,"_clickOnConfirmationDiv",t=>{if(t.target.id===R){const e=document.querySelector(".navConfirmation__input").value;if(e==="")return 0;const{newProject:o,isStored:n}=this.projectModel.createProjects({name:e}),i=o.id;if(n)return this.view.renderProject({div:this.projectsDiv,id:i,name:e,color:o.color}),this.view.renderAddProjectButton({div:this.projectsDiv}),!0;console.error("Project Not Stored")}return t.target.id===x?(this.view.renderAddProjectButton({div:this.projectsDiv}),!0):!!t.target.classList.contains(ut)});r(this,"_clickOnProject",t=>{const e=t.target.classList.contains(D)?t.target:t.target.parentNode;if(!e.classList.contains(D))return 0;const o=this.projectModel.getAllProjects(),n=e.dataset.projectId;if(o.some(a=>a.id===n)){const a=o.find(c=>c.id===n);this._projectLoad({projectID:n,project:a}),this.view.activePageStyle({div:t.target})}});r(this,"_projectLoad",({projectID:t,project:e})=>{let o=this.taskModel.getAllTasks();o=K({tasks:o,projectID:t});const n=ft({tasks:o}),i=kt({tasks:o}),a=n.map(h=>e.color),c=i.map(h=>e.color);this.view.renderPage({div:this.mainDiv,completedTasks:n,notCompletedTasks:i,name:e.name,colorCompletedTasks:a,colorNotCompletedTasks:c}),this.setCurrentProject({projectId:t})});r(this,"_deleteProjectClick",t=>{if(t.target.classList.contains(ht)){const o=t.target.parentNode,n=o.dataset.projectId,i=this.taskModel.getAllTasks(),a=K({tasks:i,projectID:n});this.taskModel.deleteManyTasks({tasksArray:a}),this.projectModel.deleteProject({id:n}),o.remove();const c=this.getCurrentProject();return c===n&&this.reloadSection({loadHome:!0}),c===null&&this.reloadSection({loadHome:!1}),!0}});r(this,"_colorInput",ue(t=>{const e=t.target;if(e.classList.contains(F)){const o=e.parentNode.dataset.projectId,n=e.value;this.projectModel.updateProject({id:o,updatedFields:{color:n}});const a=this.projectModel.getAllProjects().find(c=>c.id===o);return this._projectLoad({projectID:o,project:a}),!0}},1e3));r(this,"_colorInputClick",t=>{if(t.target.classList.contains(F))return!0});this.view=t,this.projectModel=e,this.taskModel=o,this.setCurrentProject=n,this.getCurrentProject=i,this.reloadSection=a,this.projectsDiv=document.querySelector(".nav__projectsDiv"),this.mainDiv=document.querySelector(".main")}}class pe{constructor({view:t,taskModel:e,projectModel:o,getCurrentProject:n,getCurrentSection:i,reloadSection:a}){r(this,"initializeControllerMain",()=>{this.mainDiv.addEventListener("focusin",this._addTaskBarFocusOutline),this.mainDiv.addEventListener("focusout",this._addTaskBarFocusOutline),this.mainDiv.addEventListener("change",this._dateInputChange),this.mainDiv.addEventListener("click",this._handleClick)});r(this,"_addTaskBarFocusOutline",t=>{(t.target.id===_||t.target.id===$||t.target.id===T||t.target.id===y)&&(t.type==="focusin"?(document.querySelector(`#${T}`).focus(),document.querySelector(`#${_}`).classList.add(V)):t.type==="focusout"&&document.querySelector(`#${_}`).classList.remove(V))});r(this,"_dateInputChange",t=>{if(t.target.classList.contains(ct)){const e=t.target.value,n=t.target.parentNode.dataset.taskId,{isStored:i}=this.taskModel.getTask({id:n});return i?(this.taskModel.updateTask({id:n,updatedFields:{date:e}}),this._saveDetails(),this.reloadSection({}),this._loadDetails(),!0):(console.error("task not stored on change date"),!0)}return!1});r(this,"_handleClick",t=>{let e=!1;if(e=this._AddTask(t),e||(e=this._completeTaskClick(t),e)||(e=this._deleteTaskClick(t),e)||(e=this._taskOpenDetailClick(t),e)||(e=this._taskDetailClick(t),e))return 0;this._removeDetails()});r(this,"_AddTask",t=>{if(t.target.id===$||t.target.id===y){const e=document.querySelector(`#${T}`).value;if(e==="")return 0;const o=this.getCurrentProjectID(),n=this._getDateBySection(),{newTask:i,isStored:a}=this.taskModel.createTask({taskTitle:e,projectID:o,date:n}),{project:c}=this.projectModel.getProject({id:o});return a?this.view.renderTask({task:i,color:c==null?void 0:c.color}):console.error("Task Not Stored"),!0}return!1});r(this,"_completeTaskClick",t=>{if(t.target.classList.contains(at)){const e=t.target.parentNode,o=e.dataset.taskId,{task:n,isStored:i}=this.taskModel.getTask({id:o});if(!i)return console.error("task not stored"),!0;const a=n.completed,{updatedTask:c,isUpdated:h}=this.taskModel.updateTask({id:o,updatedFields:{completed:!a}});if(!h)return console.error("task not updated"),!0;const{project:p}=this.projectModel.getProject({id:n.projectID});e.remove(),this.view.renderTask({task:c,color:p==null?void 0:p.color});const z=document.querySelector(`[data-task-id="${o}"]`);return z.classList.add("activeTask"),setTimeout(()=>{z.classList.remove("activeTask")},2e3),this._reloadDetails(),!0}return!1});r(this,"_deleteTaskClick",t=>{const e=t.target;if(e.classList.contains(lt)){const o=e.parentNode,n=o.dataset.taskId;return this.taskModel.deleteTask({id:n}),o.remove(),!0}return!1});r(this,"_getDateBySection",()=>{switch(this.getCurrentSection()){case u:case A:return q();case f:return mt();case k:return Y();case g:return At();default:return q()}});r(this,"_taskOpenDetailClick",t=>{const e=t.target.classList.contains(E)?t.target:t.target.parentNode;if(!e.classList.contains(E))return!1;const o=e.dataset.taskId;return this._openTaskDetails({id:o}),!0});r(this,"_taskDetailClick",t=>{const e=t.target.classList;let o=!1;for(let n=0;n<e.length;n++)if(e[n].startsWith("taskDetails")){o=!0;break}return!!o});r(this,"_openTaskDetails",({id:t})=>{const{task:e}=this.taskModel.getTask({id:t}),o=this.projectModel.getAllProjects(),{project:n}=this.projectModel.getProject({id:e.projectID}),i=document.querySelector(".taskDetails__div");i==null||i.remove(),this.view.renderTaskDetail({div:this.mainDiv,task:e,project:n,projectArray:o})});r(this,"_saveDetails",()=>{var e;const t=(e=document.querySelector(".taskDetails__div"))==null?void 0:e.dataset.taskId;t!==void 0&&(this.detailsSaved=t)});r(this,"_loadDetails",()=>{this.detailsSaved!==void 0&&(this._openTaskDetails({id:this.detailsSaved}),this.detailsSaved=void 0)});r(this,"_reloadDetails",()=>{this._saveDetails(),this._loadDetails()});r(this,"_removeDetails",()=>{const t=document.querySelector(".taskDetails__div");t==null||t.remove()});this.view=t,this.taskModel=e,this.projectModel=o,this.getCurrentProjectID=n,this.getCurrentSection=i,this.reloadSection=a,this.mainDiv=document.querySelector(".main"),this._isDetailOpen=!1}}class I{constructor({id:t,name:e,color:o="#000000"}){this.id=t,this.name=e,this.color=o}}let S;const me=new Uint8Array(16);function Ae(){if(!S&&(S=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!S))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return S(me)}const l=[];for(let s=0;s<256;++s)l.push((s+256).toString(16).slice(1));function fe(s,t=0){return l[s[t+0]]+l[s[t+1]]+l[s[t+2]]+l[s[t+3]]+"-"+l[s[t+4]]+l[s[t+5]]+"-"+l[s[t+6]]+l[s[t+7]]+"-"+l[s[t+8]]+l[s[t+9]]+"-"+l[s[t+10]]+l[s[t+11]]+l[s[t+12]]+l[s[t+13]]+l[s[t+14]]+l[s[t+15]]}const ke=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),et={randomUUID:ke};function gt(s,t,e){if(et.randomUUID&&!t&&!s)return et.randomUUID();s=s||{};const o=s.random||(s.rng||Ae)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,t){e=e||0;for(let n=0;n<16;++n)t[e+n]=o[n];return t}return fe(o)}class d{constructor({id:t,projectID:e=null,title:o,description:n="",date:i="",completed:a=!1}){this.id=t,this.projectID=e,this.title=o,this.description=n,this.date=i,this.completed=a}}const ge=[new I({id:"1",name:"House",color:"#00ff00"}),new I({id:"2",name:"Exercising",color:"#ff0000"}),new I({id:"3",name:"Work",color:"#00aaff"})],C=new Date().toISOString().split("T")[0],W=new Date;W.setDate(W.getDate()-1);const De=W.toISOString().split("T")[0],G=new Date;G.setDate(G.getDate()+1);const je=G.toISOString().split("T")[0],ve=Y(),_e=[new d({id:"1",projectID:"1",title:"Clean the bedroom",description:"",date:C,completed:!1}),new d({id:"2",projectID:"1",title:"Clean the toilet",description:"",date:je,completed:!1}),new d({id:"3",projectID:"2",title:"Go for a Walk",description:"",date:C,completed:!1}),new d({id:"4",projectID:"2",title:"HIIT - High Intensity Interval Training",description:"",date:De,completed:!0}),new d({id:"5",projectID:"3",title:"Start the new Project",description:"",date:C,completed:!1}),new d({id:"6",projectID:"3",title:"Organize the different tasks of the project",description:"",date:ve,completed:!1}),new d({id:"7",projectID:"",title:"Watch a film",description:"Description 7",date:C,completed:!1})];function m({item:s,array:t}){const e=JSON.stringify(t);localStorage.setItem(s,e)}function Dt({item:s}){const t=localStorage.getItem(s);return t?{isStoredInLocal:!0,storedData:JSON.parse(t)}:{isStoredInLocal:!1,storedData:null}}const P="projectArray";class Te{constructor(){r(this,"createProjects",({name:t})=>{const e=gt(),o=new I({id:e,name:t});return this.projects.push(o),m({item:P,array:this.projects}),{newProject:o,isStored:!0}});r(this,"getProject",({id:t})=>{const e=this.projects.find(n=>n.id===t);return{project:e,isStored:e!==void 0}});r(this,"deleteProject",({id:t})=>(console.log(t),this.projects=this.projects.filter(e=>e.id!==t),console.log(this.projects),m({item:P,array:this.projects}),{isDeleted:!0}));r(this,"updateProject",({id:t,updatedFields:e})=>{const o=this.projects.find(n=>n.id===t);return o?(Object.assign(o,e),m({item:P,array:this.projects}),{updatedProject:o,isUpdated:!0}):{updatedProject:null,isUpdated:!1}});const{isStoredInLocal:t,storedData:e}=Dt({item:P});t?this.projects=e:(this.projects=[],this.projects.push(...ge))}getAllProjects(){return this.projects}}class j{constructor({name:t}){this.name=t}}class Se{constructor(){this.sections=[],this.initialize()}initialize(){const t=new j({name:u}),e=new j({name:A}),o=new j({name:f}),n=new j({name:k}),i=new j({name:g});this.sections=[t,e,o,n,i]}getSectionNames(){return this.sections.map(t=>t.name)}}const v="taskArray";class Ce{constructor(){r(this,"getAllTasks",()=>this.tasks);r(this,"getTask",({id:t})=>{const e=this.tasks.find(n=>n.id===t);return{task:e,isStored:e!==void 0}});r(this,"createTask",({taskTitle:t,projectID:e=null,description:o="",date:n=""})=>{const i=gt(),a=new d({id:i,projectID:e,title:t,description:o,date:n,completed:!1});return this.tasks.push(a),m({item:v,array:this.tasks}),{newTask:a,isStored:!0}});r(this,"updateTask",({id:t,updatedFields:e})=>{const o=this.tasks.find(n=>n.id===t);return o?(Object.assign(o,e),m({item:v,array:this.tasks}),{updatedTask:o,isUpdated:!0}):{updatedTask:null,isUpdated:!1}});r(this,"deleteTask",({id:t})=>(this.tasks=this.tasks.filter(e=>e.id!==t),m({item:v,array:this.tasks}),{isDeleted:!0}));r(this,"deleteManyTasks",({tasksArray:t=[]})=>{if(t.length===0)return this.tasks=[],0;const e=new Set(t.map(o=>o.id));return this.tasks=this.tasks.filter(o=>!e.has(o.id)),m({item:v,array:this.tasks}),{isDeleted:!0}});const{isStoredInLocal:t,storedData:e}=Dt({item:v});t?this.tasks=e:(this.tasks=[],this.tasks.push(..._e))}}const Pe=new Se,b=new Te,B=new Ce;class Ie{constructor(t){r(this,"initializeController",()=>(this.controllerSections.initializeControllerSection(),this.controllerProjects.initializeControllerProjects(),this.controllerMain.initializeControllerMain(),this.removeTaskDetails(),0));r(this,"setCurrentSection",({section:t})=>{this.currentProject=null,this.currentSection=t});r(this,"getCurrentSection",()=>this.currentSection);r(this,"setCurrentProject",({projectId:t})=>{this.currentSection="",this.currentProject=t});r(this,"getCurrentProject",()=>this.currentProject);r(this,"reloadSection",({loadHome:t=!1})=>{this.controllerSections.reloadSection({loadHome:t})});r(this,"removeTaskDetails",()=>{const t=document.querySelector("nav"),e=document.querySelector("header");t.addEventListener("click",this.controllerMain._removeDetails),e.addEventListener("click",this.controllerMain._removeDetails)});this.view=t,this.currentSection="home",this.currentProject=null,this.controllerSections=new de({view:t,sectionModel:Pe,taskModel:B,projectModel:b,setCurrentSection:this.setCurrentSection,getCurrentSection:this.getCurrentSection}),this.controllerProjects=new he({view:t,projectModel:b,taskModel:B,setCurrentProject:this.setCurrentProject,getCurrentProject:this.getCurrentProject,reloadSection:this.reloadSection}),this.controllerMain=new pe({view:t,taskModel:B,projectModel:b,getCurrentProject:this.getCurrentProject,getCurrentSection:this.getCurrentSection,reloadSection:this.reloadSection})}}const $e=new se,ye=new Ie($e);ye.initializeController();
